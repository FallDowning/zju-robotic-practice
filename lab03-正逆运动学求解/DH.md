记末端坐标系相对于基坐标系的变换矩阵为$^{0}_{6}T$，则有：
$$
 ^{0}_{6}T = \begin{bmatrix}
    n_x & o_x & a_x & p_x \\
    n_y & o_y & a_y & p_y \\
    n_z & o_z & a_z & p_z \\
    0 & 0 & 0 & 1
 \end{bmatrix}
$$
可用逆变换 $^{0}_{1}T^{-1}$左乘该矩阵两边，可以得到：
$$
    ^{0}_{1}T^{-1} \cdot ^{0}_{6}T = ^{1}_{6}T
$$
展开得到：
$$
    \begin{bmatrix}
        c_1 & -s_1 & 0 & 0 \\
        s_1 & c_1 & 0 & 0 \\
        0 & 0 & 1 & 0.23 \\
        0 & 0 & 0 & 1
    \end{bmatrix}
    \begin{bmatrix}
    n_x & o_x & a_x & p_x \\
    n_y & o_y & a_y & p_y \\
    n_z & o_z & a_z & p_z \\
    0 & 0 & 0 & 1
 \end{bmatrix} = \begin{bmatrix}
    a_{11} & a_{12} & a_{13} & a_{14} \\
    c_5c_6 & -c_5s_6 & s_5 & 0.023 \\
    a_{31} & a_{32} & a_{33} & a_{34} \\
    0 & 0 & 0 & 1
 \end{bmatrix}
$$
令第2行第四列元素相等可以得到：$s_1p_x + c_1p_y = 0.077- 0.054 = 0.023$，由此可以解得：
$$
   \theta_1 = \arctan2(p_y, p_x) \pm  \arctan2(0.023, \sqrt{p_x^2 + p_y^2 - 0.023^2})
$$
令第二行第三列元素相等可以得到：$s_1a_x + c_1a_y = s_5$，由此可以解得：
$$
    \theta_5 = \pm \arcsin(s_1a_x + c_1a_y)
$$
再联立第二行第一列和第二列元素可以得到：
$$
    \theta_6 = \arctan2(\frac{-s_1o_x + c_1o_y}{c_5}, \frac{s_1n_x + c_1n_y}{c_5})
$$
又因为
$$
    \begin{bmatrix}
      t_{11} & t_{12} & t_{13} & t_{14} \\
        t_{21} & t_{22} & t_{23} & t_{24} \\
        t_{31} & t_{32} & t_{33} & t_{34} \\
        0 & 0 & 0 & 1        
    \end{bmatrix} = 
    ^{1}_{0}T^{0}_{6}T ^{6}_{5}T^{5}_{4}T  =   ^{1}_{4}T = \begin{bmatrix}
    a_{11} & a_{12} & a_{13} & 0.17s(\theta_2 - \theta_3)+0.185s_2 \\
    a_{21} & a_{22} & a_{23} & a_{24} \\
    a_{31} & a_{32} & a_{33} & -0.17c(\theta_2 - \theta_3)-0.185c_2 \\
    0 & 0 & 0 & 1
    \end{bmatrix}
$$
对第四列第一行和第三行的元素求平方和可以得到：$2\times 0.17 \times 0.185 c_3  + 0.17^2 + 0.185^2  = t_{14}^2 + t_{34}^2$, $t_{14}$和 $t_{34}$可以由已经求解出的 $\theta_1， \theta_5， \theta_6$求出，从而得到：
$$
    \theta_3 = \pm \arccos(\frac{t_{14}^2 + t_{34}^2 - 0.17^2 - 0.185^2}{2\times 0.17 \times 0.185})
$$
同理可以求出 $\theta_2$
$$
    \begin{bmatrix}
    t_{11}^{'} & t_{12}^{'} & t_{13}^{'} & t_{14}^{'} \\
    t_{21}^{'} & t_{22}^{'} & t_{23}^{'} & t_{24}^{'} \\
    t_{31}^{'} & t_{32}^{'} & t_{33}^{'} & t_{34}^{'} \\
    0 & 0 & 0 & 1       
    \end{bmatrix} = 
    ^{1}_{0}T^{0}_{6}T ^{6}_{5}T^{5}_{4}T^{4}_{3}T  =   ^{1}_{3}T = \begin{bmatrix}
    c(\theta_2 - \theta_3 - \theta_4) & a_{12} & a_{13} & 0.185s_2 \\
    a_{21} & a_{22} & a_{23} & a_{24} \\
    -s(\theta_2 - \theta_3 - \theta_4) & a_{32} & a_{33} & -0.185c_2 \\
    0 & 0 & 0 & 1
    \end{bmatrix}
$$
利用第四列第一行和第三行元素相等得到：
$$
     \theta_2 = \arctan2( \frac{t_{14}^{'}}{0.185}, \frac{t_{34}^{'}}{0.185})
$$
再由 $^{1}_{4}T$的第一列第一行和第三行元素可以求出 $\theta_4$
$$
    \theta_4 = \theta_2 - \theta_3 - \arctan2(-t_{31}, t_{11}) 
$$






